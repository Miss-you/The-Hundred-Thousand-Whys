# 网络

## 按照标准的 TCP 协议栈以及状态机，一个连接什么情况下会发 RST 包给对端？

## GSO 是什么东西？

## 跨域是什么？

如果一个页面中的 JS 可以任意发起 http 跨域获取其他页面上的资源，这是一件很可怕的事，比如：

- 张三访问了某银行网站 abank.com，服务器端验证后会在响应头中加入 Set-Cookie 字段，然后下次张三再发起请求，浏览器会自动将 cookie 附加在 HTTP 请求的首部字段 Cookie 中，服务器端就知道张三已经登录过了。
- 张三接着访问了危险页面 danger.com，这个页面中写了一些 Ajax，它发起请求访问 abank.com，这一行为用户不能察觉，如果可以跨域发起请求，那么浏览器同样会自动将 cookie 附加在 HTTP 请求的首部字段 Cookie 中，这样这个危险危险网站就登陆了张三的银行账户。

所以在互联网中，需要同源策略限制跨域，不同源的资源如果没有获取相应权限则不可以由其他源站的访问。http 服务器中的跨域可以类比于 http 服务器中的黑白名单，前者是对 http 请求源站、http 请求访问内容进行限制，而后者则是对请求源 ip/目的 ip 进行限制。

那么，什么时候是跨域什么时候是同源呢？

- http 请求协议相同
- http 请求域名相同
- http 请求端口相同

便是同源，反正则是跨域

## NAT 技术有什么用？

NAT 技术能够重写 IP 数据包的源 IP 或目的 IP，所以普遍用来解决公网 IP 地址短缺的问题。它可以让网络中的多台主机，通过共享同一个公网 IP 地址，来访问外网资源。同时，由于 NAT 屏蔽了内网网络，也为局域网中机器起到安全隔离的作用。

## http1.1 和 http2 的历史意义

引入任何一种新技术都是有原因和目的的。比如 HTTP keep-alive 允许客户端和服务端用同一个 TCP 连接发送/接收多个请求/响应，减少了昂贵的 TCP 建立连接和断开连接的过程；HTTP pipelining 允许客户端在收到响应之前继续发送幂等方法（GET 和 HEAD）的请求，提升在高延迟连接下页面的加载速度；HTTP/2 更是定义了帧（frame）和流（stream），真正地复用了 TCP 连接，从而解决了 pipelining 不能解决的问题（例如「快」的响应被「慢」的响应阻塞的问题）。

## 高防IP与WAF的区别？

高防IP是防护DDoS攻击的，主要用于4层。
WAF主要是防护CC攻击的，主要用于7层。
